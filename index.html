<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="referrer" content="never">
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!--<link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">-->
    <!--<script src="https://unpkg.com/swiper/js/swiper.min.js"> </script>-->
    <!--<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>-->
    <style>
    </style>
  </head>
  <body>
    <div id="root">
      <!-- 使用自定义指令 -->
      <div v-bg="'red'">111</div>
      <div v-bg="'pink'">222</div>
      <div v-bg="myColor">222</div>
    </div>

    <script type="text/javascript">
      // 自定义指令
      Vue.directive('bg', {
        // 指令-生命周期
        // 插入
        inserted(el, bind) {
          // el 是指使用了该指令的 DOM元素
          // console.log('当前节点插入到父组件中了')
          console.log(bind)
          el.style.background = bind.value
        },
        // 每次修改状态将会触发
        update(el, bind) {
          // 指令 - 生命周期 - 更新
          el.style.background = bind.value
        }
      })

      let vm = new Vue({
        el: '#root',
        data: {
          myColor: 'red'
        }
      })

    </script>
  </body>
</html>
