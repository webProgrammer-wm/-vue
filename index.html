<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="referrer" content="never">
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
    </style>
  </head>
  <body>
    <div id="root">
      <ul>
        <li v-for="item in movieList">
          {{ item.nm }}
          <!--
              vue会对代码进行解析，
              把 item.img 当做参数传给 changePath 这个自定义过滤器上，
              让过滤器对这个字符进行处理
          -->
          <img :src="item.img | changePath" alt="">
        </li>
      </ul>
    </div>

    <script type="text/javascript">

      let vm = new Vue({
        el: '#root',
        data: {
          movieList: []
        },
        methods: {
        },
        mounted() {
          axios.get('./api/movie.json').then(res => {
            this.movieList = res.data.coming
          })
        },
        // 过滤器
        filters: {
          changePath(path) {
            return path.replace('w.h', '120.180')
          }
        }

        // 拿到的图片路径
        // http://p0.meituan.net/w.h/movie/644b66958ccbeb8bac4955c52864c8881471793.jpg

        // 正常的图片路径          后端提供接口处理图片分辨率 120 * 180
        // http://p0.meituan.net/120.180/movie/644b66958ccbeb8bac4955c52864c8881471793.jpg

        // 可以使用过滤器对路径进行修改


      })
    </script>
  </body>
</html>
