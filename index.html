<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <style>
    </style>
  </head>
  <body>
    <div id="root">
      <child></child>
      <!-- 从dom里删除掉这个节点意味着销毁了组件 -->
      <child v-if="created">测试Destroy</child>
      <button @click="created = !created">Change</button>
    </div>

    <script type="text/javascript">
      Vue.component('child', {
        template:
          `
            <div>
              child - {{ str }}
              <button @click="str += 1">更新</button>

            </div>
          `
        ,
        data() {
          return {
            str: 1,
            created: true
          }
        },
        beforeCreate() {
          console.log('beforeCreate')
        },
        created() {
          console.log('created')
        },

        // 实例挂载前触发
        beforeMount() {
          console.log('beforeMount')
        },
        // 实例挂载完成触发
        mounted() {
          console.log('mounted 访问DOM，setInterval，window.onscroll，监听事件，ajax')
        },

        // 虚拟Dom 发生改变前触发
        beforeUpdate() {
          console.log('beforeUpdate')
        },
        // 虚拟Dom 发生改变触发
        updated() {
          console.log('updated 更新之后可以访问DOM')
        },

        // 销毁组件前触发
        beforeDestroy() {
          console.log('beforeDestory-clearInterval, window.onscroll=null.$off')
        },
        // 销毁组件后触发
        destroyed() {
          console.log('destroyed-clearInterval, window.onscroll=null.$off')
        }
      })


      let vm = new Vue({
        el: '#root',
        data: {
          created: true
        },
        methods: {
        },


      })
    </script>
  </body>
</html>
